"Filed out from Dolphin Smalltalk 7"!

UI.WindowsEvent subclass: #'UI.ScrollEvent'
	instanceVariableNames: ''
	classVariableNames: ''
	imports: #()
	classInstanceVariableNames: ''
	classConstants: {}!
UI.ScrollEvent guid: (Core.GUID fromString: '{87b4c552-026e-11d3-9fd7-00a0cc3e4a32}')!
UI.ScrollEvent comment: ''!
!UI.ScrollEvent categoriesForClass!Events!MVP-Views-Events! !
!UI.ScrollEvent methodsFor!

bottom
	"Answer whether the scroll event is to the far bottom/right."

	^self scrollCode = SB_BOTTOM!

endScroll
	"Answer whether the scroll event is the end of the scroll."

	^self scrollCode = SB_ENDSCROLL!

lineDown
	"Answer whether the scroll event is one unit down."

	^self scrollCode = SB_LINEDOWN!

lineLeft
	"Answer whether the scroll event is one unit left."

	^self scrollCode = SB_LINELEFT!

lineRight
	"Answer whether the scroll event is one unit right."

	^self scrollCode = SB_LINERIGHT!

lineUp
	"Answer whether the scroll event is one unit up."

	^self scrollCode = SB_LINEUP!

pageDown
	"Answer whether the scroll event is one page down."

	^self scrollCode = SB_PAGEDOWN!

pageLeft
	"Answer whether the scroll event is one page left."

	^self scrollCode = SB_PAGELEFT!

pageRight
	"Answer whether the scroll event is one page right."

	^self scrollCode = SB_PAGERIGHT!

pageUp
	"Answer whether the scroll event is one page up."

	^self scrollCode = SB_PAGEUP!

pos
	"Answer the scroll bar position.
	Implementation Note: Ignore the position passed with the event since it is limited to a 16-bit
	co-ordinate space. Instead the current trackbar position is queried using GetScrollInfo()."

	| struct |
	struct := SCROLLINFO new
				maskIn: SIF_TRACKPOS;
				yourself.
	^(UserLibrary default
		getScrollInfo: self hwnd
		fnBar: (message = WM_HSCROLL ifTrue: [SB_HORZ] ifFalse: [SB_VERT])
		lpsi: struct) ifTrue: [struct nTrackPos] ifFalse: [wParam highWord]!

scrollBar
	"Answer the View which received the scroll command or the ScrollBar
	if the scrollBar is a scroll bar control."

	^SessionManager inputState windowAt: self lParam ifAbsent: []!

scrollCode
	"Answer the scroll bar value."

	^wParam lowWord!

thumbPosition
	"Answer whether the scroll event has been generated by dragging the thumb pos."

	^self scrollCode = SB_THUMBPOSITION!

thumbTrack
	"Answer whether the scroll event has resulted from dragging the thumb pos."

	^self scrollCode = SB_THUMBTRACK!

top
	"Answer whether the scroll event is to the far top/left."

	^self scrollCode = SB_TOP! !
!UI.ScrollEvent categoriesFor: #bottom!public!testing! !
!UI.ScrollEvent categoriesFor: #endScroll!public!testing! !
!UI.ScrollEvent categoriesFor: #lineDown!public!testing! !
!UI.ScrollEvent categoriesFor: #lineLeft!public!testing! !
!UI.ScrollEvent categoriesFor: #lineRight!public!testing! !
!UI.ScrollEvent categoriesFor: #lineUp!public!testing! !
!UI.ScrollEvent categoriesFor: #pageDown!public!testing! !
!UI.ScrollEvent categoriesFor: #pageLeft!public!testing! !
!UI.ScrollEvent categoriesFor: #pageRight!public!testing! !
!UI.ScrollEvent categoriesFor: #pageUp!public!testing! !
!UI.ScrollEvent categoriesFor: #pos!accessing!public! !
!UI.ScrollEvent categoriesFor: #scrollBar!accessing!public! !
!UI.ScrollEvent categoriesFor: #scrollCode!accessing!public! !
!UI.ScrollEvent categoriesFor: #thumbPosition!public!testing! !
!UI.ScrollEvent categoriesFor: #thumbTrack!public!testing! !
!UI.ScrollEvent categoriesFor: #top!public!testing! !

